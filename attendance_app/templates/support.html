{% extends "base.html" %}
{% load static %}

{% block title %}Support ‚Äî Attendance{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto">
  <div class="bg-white dark:bg-gray-800 shadow-sm border border-gray-100 dark:border-gray-700 rounded-xl p-6 md:p-8">
    <header class="mb-6 border-b border-gray-100 dark:border-gray-700 pb-4 flex items-start justify-between gap-4">
      <div>
        <h2 class="text-2xl font-semibold tracking-tight">Attendance Support Center</h2>
        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">
          ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ, ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶® ‡¶¨‡¶æ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶•‡¶æ‡¶ï‡¶≤‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶´‡¶∞‡ßç‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶ü‡¶ø‡¶ï‡¶ø‡¶ü ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
          ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ü‡¶ø‡¶Æ ‡¶Ø‡¶§ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶¨‡ßá‡•§
        </p>
      </div>
      <span class="inline-flex items-center rounded-full px-3 py-1 text-xs font-medium bg-emerald-50 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300">
        ‚è± Avg. response: within 24 hours
      </span>
    </header>

    {% if messages %}
      <div class="mb-5 space-y-2">
        {% for message in messages %}
          <div class="px-4 py-3 rounded-lg text-sm flex items-start gap-2
            {% if 'success' in message.tags %}
              bg-green-50 text-green-800 border border-green-200 dark:bg-green-900/20 dark:text-green-200 dark:border-green-800
            {% elif 'error' in message.tags %}
              bg-red-50 text-red-800 border border-red-200 dark:bg-red-900/20 dark:text-red-200 dark:border-red-800
            {% else %}
              bg-gray-50 text-gray-800 border border-gray-200 dark:bg-gray-900/40 dark:text-gray-200 dark:border-gray-700
            {% endif %}">
            <span class="mt-0.5 text-lg">
              {% if 'success' in message.tags %}‚úî{% elif 'error' in message.tags %}‚ö†{% else %}‚Ñπ{% endif %}
            </span>
            <span>{{ message }}</span>
          </div>
        {% endfor %}
      </div>
    {% endif %}

    <div class="grid gap-6 md:grid-cols-3">
      <!-- Left card: contact -->
      <aside class="md:col-span-1">
        <div class="p-4 rounded-xl bg-gray-50 dark:bg-gray-900/40 border border-gray-100 dark:border-gray-700">
          <h3 class="font-semibold mb-2 text-sm uppercase tracking-wide text-gray-500 dark:text-gray-400">
            Direct contact
          </h3>
          <div class="space-y-1 text-sm text-gray-700 dark:text-gray-200">
            <p>üìû <span class="font-medium">01822755994</span> <span class="text-xs text-gray-500">(WhatsApp)</span></p>
            <p>‚úâ <span class="font-medium">info@easycodingbd.com</span></p>
          </div>

          <hr class="my-4 border-gray-200 dark:border-gray-700">

          <h4 class="text-sm font-semibold mb-2">Quick checks (‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®)</h4>
          <ol class="text-sm text-gray-600 dark:text-gray-300 list-decimal pl-5 space-y-1">
            <li>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ / ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞‡¶ü‡¶ø ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡¶æ‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</li>
            <li>‡¶á‡¶®‡ßç‡¶ü‡¶æ‡¶∞‡¶®‡ßá‡¶ü ‡¶ï‡¶æ‡¶®‡ßá‡¶ï‡¶∂‡¶® ‡¶∏‡ßç‡¶ü‡ßá‡¶¨‡¶≤ ‡¶Ü‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</li>
            <li>‡¶Ø‡¶¶‡¶ø ‡¶è‡¶∞‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶Ø‡¶º, ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü ‡¶ì ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶®‡ßã‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</li>
          </ol>

          <p class="mt-4 text-xs text-gray-500 dark:text-gray-400">
            ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶ï‡ßç‡¶∑‡ßá‡¶§‡ßç‡¶∞‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶´‡ßã‡¶® ‡¶¨‡¶æ WhatsApp ‡¶è ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∞‡ßá‡¶∏‡¶™‡¶®‡ßç‡¶∏ ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§
          </p>
        </div>
      </aside>

      <!-- Form -->
      <div class="md:col-span-2">
        <form id="supportForm"
              action="{% url 'attendance_app:support_page' %}"
              method="post"
              enctype="multipart/form-data"
              class="space-y-4">
          {% csrf_token %}

          <div class="grid gap-4 md:grid-cols-2">
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">
                ‡¶®‡¶æ‡¶Æ <span class="text-red-500">*</span>
              </label>
              <input
                name="name"
                required
                placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ"
                class="w-full mt-1 px-3 py-2 border rounded-lg text-sm bg-white dark:bg-gray-700/70 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500">
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">
                ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ <span class="text-red-500">*</span>
              </label>
              <input
                type="email"
                name="email"
                required
                placeholder="you@example.com"
                class="w-full mt-1 px-3 py-2 border rounded-lg text-sm bg-white dark:bg-gray-700/70 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500">
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">
              ‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º (Subject) <span class="text-red-500">*</span>
            </label>
            <input
              name="subject"
              required
              placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶®‡¶°‡ßá‡¶®‡ßç‡¶∏ ‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶†‡¶ø‡¶ï‡¶Æ‡¶§‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶®‡¶æ"
              class="w-full mt-1 px-3 py-2 border rounded-lg text-sm bg-white dark:bg-gray-700/70 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">
              ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ (Details) <span class="text-red-500">*</span>
            </label>
            <textarea
              name="message"
              rows="6"
              required
              placeholder="‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ‡¶ü‡¶ø ‡¶ï‡¶ñ‡¶® ‡¶π‡¶ö‡ßç‡¶õ‡ßá, ‡¶ï‡ßÄ ‡¶è‡¶∞‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ö‡ßç‡¶õ‡ßá, ‡¶ï‡ßã‡¶® ‡¶°‡¶ø‡¶≠‡¶æ‡¶á‡¶∏‡ßá ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶õ‡ßá‡¶®‚Äî ‡¶Ø‡¶§ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶¶‡ßá‡¶¨‡ßá‡¶®, ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶§‡¶§ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßã‡•§"
              class="w-full mt-1 px-3 py-2 border rounded-lg text-sm bg-white dark:bg-gray-700/70 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500 resize-y"></textarea>
          </div>

          <div class="grid gap-4 md:grid-cols-2 items-start">
            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">
                ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨ (Priority)
              </label>
              <select
                name="priority"
                class="w-full mt-1 px-3 py-2 border rounded-lg text-sm bg-white dark:bg-gray-700/70 border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:border-amber-500">
                <option value="low">Low ‚Äì General query</option>
                <option value="medium" selected>Medium ‚Äì ‡¶ï‡¶æ‡¶ú‡ßá‡¶∞ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ</option>
                <option value="high">High ‚Äì ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø / ‡¶ï‡¶æ‡¶ú ‡¶¨‡¶®‡ßç‡¶ß</option>
              </select>
              <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø ‡¶π‡¶≤‡ßá <strong>High</strong> ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡¶≤‡ßá ‡¶´‡ßã‡¶®‡ßá ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶ú‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡¶ø‡¶®‡•§
              </p>
            </div>

            <div>
              <label class="block text-sm font-medium text-gray-700 dark:text-gray-200">
                ‡¶∏‡¶Ç‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§‡¶ø (Attachment) <span class="text-xs text-gray-500 dark:text-gray-400">(‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</span>
              </label>
              <input
                type="file"
                name="attachment"
                class="w-full mt-1 text-sm file:mr-3 file:px-3 file:py-1.5 file:border-0 file:rounded-md file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100 dark:file:bg-amber-900/30 dark:file:text-amber-200">
              <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">
                ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü, ‡¶è‡¶∞‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú ‡¶¨‡¶æ ‡¶≤‡¶ó ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶¨‡ßÅ‡¶ù‡¶§‡ßá ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ ‡¶π‡¶¨‡ßá‡•§
              </p>
            </div>
          </div>

          <div class="flex justify-end gap-2 pt-2">
            <button
              type="reset"
              class="px-4 py-2 rounded-lg text-sm bg-gray-100 text-gray-700 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600 border border-gray-200 dark:border-gray-600">
              ‡¶´‡¶∞‡ßç‡¶Æ ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞
            </button>
            <button
              type="submit"
              class="px-4 py-2 rounded-lg text-sm font-medium bg-amber-600 text-white hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-1 focus:ring-offset-white dark:focus:ring-offset-gray-800">
              Submit Support Ticket
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- FAQ -->
    <div class="mt-8">
      <h4 class="font-semibold mb-3 text-sm uppercase tracking-wide text-gray-500 dark:text-gray-400">FAQ</h4>

      <div class="space-y-2">
        <details class="group rounded-lg border border-gray-200 dark:border-gray-700 px-4 py-3">
          <summary class="cursor-pointer text-sm font-medium flex justify-between items-center">
            <span>‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶∞‡¶ø‡¶ï‡¶≠‡¶æ‡¶∞‡¶ø ‡¶ï‡¶∞‡¶¨‡ßã?</span>
            <span class="text-xs text-gray-400 group-open:hidden">‚ñº</span>
            <span class="text-xs text-gray-400 hidden group-open:inline">‚ñ≤</span>
          </summary>
          <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
            ‡¶≤‡¶ó‡¶á‡¶® ‡¶™‡ßá‡¶á‡¶ú ‡¶•‡ßá‡¶ï‡ßá ‚ÄúForgot password‚Äù ‡¶Ö‡¶™‡¶∂‡¶® ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§
            ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡ßç‡¶∏‡ßá‡¶∏ ‡¶®‡¶æ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ü‡¶ø‡¶ï‡¶ø‡¶ü ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶¨‡¶æ ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
          </p>
        </details>

        <details class="group rounded-lg border border-gray-200 dark:border-gray-700 px-4 py-3">
          <summary class="cursor-pointer text-sm font-medium flex justify-between items-center">
            <span>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶®‡¶°‡ßá‡¶®‡ßç‡¶∏ ‡¶Æ‡¶ø‡¶∏‡¶ø‡¶Ç ‡¶¶‡ßá‡¶ñ‡¶æ‡¶ö‡ßç‡¶õ‡ßá, ‡¶ï‡¶æ‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶¨‡ßã?</span>
            <span class="text-xs text-gray-400 group-open:hidden">‚ñº</span>
            <span class="text-xs text-gray-400 hidden group-open:inline">‚ñ≤</span>
          </summary>
          <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
            ‡¶Ø‡ßá ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶∏‡ßá‡¶á ‡¶°‡ßá‡¶ü, ‡¶è‡¶Æ‡¶™‡ßç‡¶≤‡ßü‡¶ø ‡¶Ü‡¶á‡¶°‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶®‡¶∂‡¶ü‡¶∏‡¶π ‡¶ü‡¶ø‡¶ï‡¶ø‡¶ü ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
            ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶≤‡¶ó ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ú‡¶æ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶¨‡ßã‡•§
          </p>
        </details>

        <details class="group rounded-lg border border-gray-200 dark:border-gray-700 px-4 py-3">
          <summary class="cursor-pointer text-sm font-medium flex justify-between items-center">
            <span>‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶ï‡ßã‡ßü‡ßá‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶á</span>
            <span class="text-xs text-gray-400 group-open:hidden">‚ñº</span>
            <span class="text-xs text-gray-400 hidden group-open:inline">‚ñ≤</span>
          </summary>
          <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
            Subject ‡¶è ‚ÄúFeature request‚Äù ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶ï‡ßÄ ‡¶ß‡¶∞‡¶®‡ßá‡¶∞ ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞ ‡¶ö‡¶æ‡¶® ‡¶§‡¶æ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßá ‡¶ü‡¶ø‡¶ï‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
            ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶∞‡ßã‡¶°‡¶Æ‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡ßç‡¶Ø ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶¨‡ßã‡•§
          </p>
        </details>
      </div>
    </div>
  </div>
</div>
{% endblock %}
