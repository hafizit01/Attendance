{% extends 'base.html' %}
{% block content %}

<div class="mx-auto max-w-6xl p-4 sm:p-6">
  <!-- Header -->
  <div class="text-center mb-6">
    <h2 class="text-2xl md:text-3xl font-bold tracking-tight text-gray-900">ðŸ“¦ Available Subscription Plans</h2>
    <p class="text-gray-600 text-sm mt-1">Choose a plan that fits your team. Secure payment via bKash.</p>
  </div>

  {% if plans %}
    <!-- Plans Grid -->
    <div class="grid gap-5 sm:gap-6 md:grid-cols-2 lg:grid-cols-3">
      {% for plan in plans %}
        <section class="group relative rounded-2xl border bg-white p-5 sm:p-6 shadow-sm hover:shadow-md transition">
          <!-- Name -->
          <h3 class="text-lg sm:text-xl font-semibold text-gray-900 flex items-center justify-between">
            <span>{{ plan.name }}</span>
            <span class="ml-3 inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs text-gray-600 bg-gray-50">{{ plan.duration_days }} days</span>
          </h3>

          <!-- Price -->
          <div class="mt-2">
            <div class="text-2xl font-bold text-blue-700 leading-none">à§³ {{ plan.price }}</div>
            <p class="text-xs text-gray-500">BDT, billed once</p>
          </div>

          <!-- Description -->
          <p class="mt-3 text-sm text-gray-700">{{ plan.description|default:"No description available." }}</p>

          <!-- Divider -->
          <div class="mt-4 h-px bg-gray-100"></div>

          <!-- Actions -->
          <div class="mt-4 flex items-center justify-between gap-3">
            <a href="{% url 'create_bkash_payment' plan.slug %}"
               class="inline-flex w-full items-center justify-center gap-2 rounded-xl bg-emerald-600 px-4 py-2.5 text-white font-medium shadow hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
               aria-label="Buy {{ plan.name }} with bKash">
              <span>Buy Now</span>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4"><path d="M13.5 4.5a.75.75 0 0 0 0 1.5h5.69l-7.72 7.72a.75.75 0 1 0 1.06 1.06l7.72-7.72V15a.75.75 0 0 0 1.5 0V5.25A.75.75 0 0 0 21 4.5h-7.5Z"/><path d="M5.25 6A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V14a.75.75 0 0 0-1.5 0v4.75c0 .414-.336.75-.75.75H5.25a.75.75 0 0 1-.75-.75V8.25c0-.414.336-.75.75-.75H10a.75.75 0 0 0 0-1.5H5.25Z"/></svg>
            </a>
          </div>

          <!-- Subtle hover ring -->
          <span class="pointer-events-none absolute inset-0 rounded-2xl ring-1 ring-transparent group-hover:ring-gray-200"></span>
        </section>
      {% endfor %}
    </div>

  {% else %}
    <!-- Empty state -->
    <div class="mt-12 text-center">
      <div class="mx-auto inline-flex items-center justify-center w-12 h-12 rounded-full bg-gray-100">ðŸ“ƒ</div>
      <p class="text-gray-700 font-medium mt-3">No subscription plans available.</p>
      <p class="text-sm text-gray-500">Please check back later or contact support.</p>
    </div>
  {% endif %}
</div>

{% endblock %}
